usevar globalvar A;
usevar playervar A;

define globalvar temp C;

rule: "Resursion test."
if (IsButtonHeld(EventPlayer(), Button.Interact))
{
    GenerateGrid(PositionOf(EventPlayer()));
}

method GenerateGrid(location)
{
    for (define x = 0; x < 3; x+=1;)
        for (define y = 0; y < 3; y+=1;) 
        {
            define local = location + Vector(x * 2, y * 2, 0);
            CreateEffect(AllPlayers(), Effects.Sphere, Color.White, local, 1, EffectRev.None);
            SmallMessage(EventPlayer(), <"built sphere (<0>, <1>) <2>", x, y, local>);
        }
}