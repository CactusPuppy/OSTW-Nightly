rule: "Recursion test."
Event.OngoingPlayer
if (IsButtonHeld(EventPlayer(), Button.Interact))
{
    Test(123);
}

method Test(result) 
{
    Wait(2);
    SmallMessage(EventPlayer(), <"checkpoint <0>", result>);
    Wait(2);
    if (result == 123)
    {
        if (Test(1) == 4)
        {
            SmallMessage(EventPlayer(), "Success!");
            Wait(2);
            return 193;
        }
        else
        {
            SmallMessage(EventPlayer(), <"failed, spawned <0>", Test(1)>);
            Wait(2);
            return 9;
        }
    }
    else if (result == 1)
    {
        SmallMessage(EventPlayer(), <"spawned <0>", 4>);
        Wait(2);
        return 4;
    }
    return -1;
}